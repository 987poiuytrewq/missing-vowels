<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Missing Vowels</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script>
      var categories = {
        "examples": [
          "whitehat",
          "outstanding alternative to university",
          "euan blair",
          "project management team",
        ],

        "PM and whitehat": [
          "progress review",
          "governance",
          "off the job",
          "critical path",
          "project management plan",
          "session attendance log",
          "north star metric",
        ],

        "working virtually": [
          "breakout room",
          "i'm just going to share my screen",
          "zoom fatigue",
          "put your ideas in the chat",
          "i'll give you the time back",
          "your internet connection is unstable",
          "you're on mute!",
        ],

        "merry christmas": [
          "and a happy new year!",
        ],
      };
      var answer = false;
      var categoryIndex = 0;
      var clueIndex = -1;

      var next = function() {
        var categoryElement = $('#category');
        var clueElement = $('#clue');
        var category = Object.keys(categories)[categoryIndex]
        var clues = categories[category]
        var text = clues[clueIndex];

        if(text) {
          if(answer) {
            clueElement.addClass('answer');
            clueIndex++;
          } else {
            clueElement.removeClass('answer');
            text = text.replace(/[aeiou ,'!]/g, '');
            for(var i = 0; i < text.length * 0.3; i++) {
              var array = text.split('');
              array.splice(Math.random() * text.length, 0, ' ');
              text = array.join('');
            }
            text = text.replace(/ /g, '  ');
          }
          clueElement.text(text);
          answer = !answer;
        } else {
          if (clueIndex < 0) {
            clueIndex++;
          }
          if (clueIndex >= clues.length) {
            clueIndex = 0;
            categoryIndex++;
            category = Object.keys(categories)[categoryIndex]
            clueElement.text('');
          }
          categoryElement.text(category)
        }
      };

      $(document).keypress(next);
      $(document).click(next);
    </script>
    <style>
      html, body {
        margin: 0;
        height: 100%;
        font-family: Roboto,sans-serif;
        background-color: #192549;
      }

      #next {
        position: absolute;
        top: 10px;
        right: 10px;
        border-radius: 2px;
        padding: 10px 15px;
        font-size: 30px;
        text-align: center;
        color: #FFFFFF;
        background-color: #1D98FF;
      }

      a:link {
        text-decoration: none;
      }

      a:visited {
        text-decoration: none;
      }

      #container {
        width: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }

      #category {
        margin: 20px 200px;
        text-transform: capitalize;
        text-align: center;
        font-weight: boldest;
        font-size: 80px;
        color: #FFFFFF;
      }

      #clue {
        margin: 100px 40px 0;
        text-transform: uppercase;
        text-align: center;
        font-weight: boldest;
        font-size: 100px;
        color: #1D98FF;
      }

      #clue.answer {
        color: #1ADE98;
      }
    </style>
  </head>
  <body>
    <a id="next" href="#">Next</a>
    <div id="container">
      <div id="category"></div>
      <div id="clue"></div>
    </div>
  </body>
</html>
